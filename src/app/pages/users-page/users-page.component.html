<section class="container mt-5 mb-5">

  <div class="row">

    <div class="col-md-2">
      <button (click)="basicModal.show()" mdbBtn type="button" color="secondary" outline="true" mdbWavesEffect>Add
        User</button>
    </div>

    <div class="col-md-5">

      <div class="m-1 user-order">
        Order By: <a href="#" mdbTooltip="Order filtration is based on 'User Name'" placement="top">?</a>
      </div>

      <div class="dis-inline-flex">
        <!-- Default unchecked -->
        <div class="custom-control custom-radio m-1">
          <input type="radio" class="custom-control-input" id="default" (change)="userOrderChange('default')"
            name="user_order" checked mdbInput>
          <label class="custom-control-label" for="default">Default</label>
        </div>

        <!-- Default checked -->
        <div class="custom-control custom-radio m-1">
          <input type="radio" class="custom-control-input" id="asc" (change)="userOrderChange('ascending')"
            name="user_order" mdbInput>
          <label class="custom-control-label" for="asc">Ascending</label>
        </div>

        <!-- Default checked -->
        <div class="custom-control custom-radio m-1">
          <input type="radio" class="custom-control-input" id="dsc" (change)="userOrderChange('descending')"
            name="user_order" mdbInput>
          <label class="custom-control-label" for="dsc">Descending</label>
        </div>
      </div>

    </div>

    <div class="col-md-4">
      <!-- Search form -->
      <form class="form-inline md-form form-sm active-cyan-2">
        <input [(ngModel)]="search_key" (keyup)="onChangeSearch()" name="search_key"
          class="form-control form-control-sm mr-3 w-75" type="text" placeholder="Search" aria-label="Search" mdbInput>
        <i class="fas fa-search" aria-hidden="true"></i>
      </form>
    </div>

  </div>

  <div class="row" *ngIf="users.length && !ordered_users.length && !search_key && user_order=='default'" infiniteScroll
    [infiniteScrollDistance]="2" [infiniteScrollThrottle]="50" (scrolled)="onScroll()">
    <div class="col-md-3" *ngFor="let user of users">
      <!-- Card -->
      <a routerLink="/users/user-detail" [queryParams]="{user: user.login}">
        <mdb-card>
          <div class="view rgba-white-slight waves-light" mdbWavesEffect>
            <!-- Card img -->
            <mdb-card-img [src]="user.avatar_url" alt="Card image cap">
            </mdb-card-img>
            <a>
              <div class="mask"></div>
            </a>
          </div>
          <!--Card content-->
          <mdb-card-body>
            <!--Title-->
            <mdb-card-title class="text-center">
              <h4>{{user.login}}</h4>
            </mdb-card-title>

            <!--Text-->
            <!-- <mdb-card-text> Some quick example text to build on the card title and make up the bulk of the card's
            content.
          </mdb-card-text> -->

            <!-- <a href="#" mdbBtn color="primary" mdbWavesEffect>Button</a> -->
          </mdb-card-body>
        </mdb-card>
      </a>
      <!-- Card -->
    </div>
  </div>

  <div class="row" *ngIf="ordered_users.length">
    <div class="col-md-3" *ngFor="let user of ordered_users">
      <!-- Card -->
      <a routerLink="/users/user-detail" [queryParams]="{user: user.login}">
        <mdb-card>
          <div class="view rgba-white-slight waves-light" mdbWavesEffect>
            <!-- Card img -->
            <mdb-card-img [src]="user.avatar_url" alt="Card image cap">
            </mdb-card-img>
            <a>
              <div class="mask"></div>
            </a>
          </div>
          <!--Card content-->
          <mdb-card-body>
            <!--Title-->
            <mdb-card-title class="text-center">
              <h4>{{user.login}}</h4>
            </mdb-card-title>

            <!--Text-->
            <!-- <mdb-card-text> Some quick example text to build on the card title and make up the bulk of the card's
            content.
          </mdb-card-text> -->

            <!-- <a href="#" mdbBtn color="primary" mdbWavesEffect>Button</a> -->
          </mdb-card-body>
        </mdb-card>
      </a>
      <!-- Card -->
    </div>
  </div>

  <div class="row" *ngIf="!ordered_users.length && search_key">
    <div class="col-md-12">
      <h1>
        Sorry! there is no match.
      </h1>
    </div>
  </div>

  <div class="text-center mt-5" *ngIf="!users || loader">
    <div class="spinner-border" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>




  <!-- Add User Modal -->
  <div mdbModal #basicModal="mdbModal" class="modal fade" tabindex="-1" role="dialog"
    aria-labelledby="myBasicModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close pull-right" aria-label="Close" (click)="basicModal.hide()">
            <span aria-hidden="true">Ã—</span>
          </button>
          <h4 class="modal-title w-100" id="myModalLabel">ADD USER</h4>
        </div>
        <div class="modal-body">
          <div>Upload File</div>
          <div>User Name</div>
        </div>
        <div class="modal-footer">
          <button type="button" mdbBtn color="secondary" class="waves-light" aria-label="Close"
            (click)="basicModal.hide()" mdbWavesEffect>Close</button>
          <button type="button" mdbBtn color="primary" class="relative waves-light" mdbWavesEffect>Add</button>
        </div>
      </div>
    </div>
  </div>

</section>